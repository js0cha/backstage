# Release v1.3.0-next.2

## @backstage/plugin-pagerduty@0.4.0-next.2

### Minor Changes

- b157c2eb1c: **Breaking**: Use identityApi to provide auth token for pagerduty API calls.

### Patch Changes

- Updated dependencies
  - @backstage/core-components@0.9.5-next.2

## @backstage/plugin-scaffolder@1.3.0-next.2

### Minor Changes

- dc39366bdb: - Added a new page under `/create/tasks` to show tasks that have been run by the Scaffolder.
  - Ability to filter these tasks by the signed in user, and all tasks.
  - Added optional method to the `ScaffolderApi` interface called `listTasks` to get tasks with an required `filterByOwnership` parameter.

### Patch Changes

- ac0c7e45ee: Fixes review mask in `MultistepJsonForm` to work as documented. `show: true` no longer needed when mask is set.
- Updated dependencies
  - @backstage/core-components@0.9.5-next.2
  - @backstage/integration@1.2.1-next.2

## @backstage/plugin-scaffolder-backend@1.3.0-next.2

### Minor Changes

- ce0d8d7eb1: Fixed a bug in `publish:github` action that didn't permit to add users as collaborators.
  This fix required changing the way parameters are passed to the action.
  In order to add a team as collaborator, now you must use the `team` field instead of `username`.
  In order to add a user as collaborator, you must use the `user` field.

  It's still possible to use the field `username` but is deprecated in favor of `team`.

  ```yaml
  - id: publish
    name: Publish
    action: publish:github
    input:
      repoUrl: ...
      collaborators:
        - access: ...
          team: my_team
        - access: ...
          user: my_username
  ```

- 582003a059: - Added an optional `list` method on the `TaskBroker` and `TaskStore` interface to list tasks by an optional `userEntityRef`
  - Implemented a `list` method on the `DatabaseTaskStore` class to list tasks by an optional `userEntityRef`
  - Added a route under `/v2/tasks` to list tasks by a `userEntityRef` using the `createdBy` query parameter

### Patch Changes

- Updated dependencies
  - @backstage/integration@1.2.1-next.2

## @backstage/cli@0.17.2-next.2

### Patch Changes

- 9002ebd76b: Updated dependency `@rollup/plugin-commonjs` to `^22.0.0`.

## @backstage/core-components@0.9.5-next.2

### Patch Changes

- ee2cd642c5: Updated dependency `rc-progress` to `3.3.3`.

## @backstage/create-app@0.4.28-next.2

### Patch Changes

- aaf7652084: Bump version of `cypress` in newly scaffolded Backstage Applications. To apply this change to your own instance, please make the following change to `packages/app/package.json` under `devDependencies`.

  ```diff
  -   "cypress": "^7.3.0",
  +   "cypress": "^9.7.0",
  ```

## @backstage/integration@1.2.1-next.2

### Patch Changes

- e37c71b5a4: Updated to support deployments of Azure DevOps Server under TFS or similar sub path

## @backstage/plugin-catalog-backend-module-azure@0.1.4-next.2

### Patch Changes

- b8884fd579: Add a new provider `AzureDevOpsEntityProvider` as replacement for `AzureDevOpsDiscoveryProcessor`.

  In order to migrate from the `AzureDevOpsDiscoveryProcessor` you need to apply
  the following changes:

  **Before:**

  ```yaml
  # app-config.yaml

  catalog:
    locations:
      - type: azure-discovery
        target: https://dev.azure.com/myorg/myproject/_git/service-*?path=/catalog-info.yaml
  ```

  ```ts
  /* packages/backend/src/plugins/catalog.ts */

  import { AzureDevOpsDiscoveryProcessor } from '@backstage/plugin-catalog-backend-module-azure';

  const builder = await CatalogBuilder.create(env);
  /** ... other processors ... */
  builder.addProcessor(new AzureDevOpsDiscoveryProcessor(env.reader));
  ```

  **After:**

  ```yaml
  # app-config.yaml

  catalog:
    providers:
      azureDevOps:
        anyProviderId:
          host: selfhostedazure.yourcompany.com # This is only really needed for on-premise user, defaults to dev.azure.com
          organization: myorg # For on-premise this would be your Collection
          project: myproject
          repository: service-*
          path: /catalog-info.yaml
  ```

  ```ts
  /* packages/backend/src/plugins/catalog.ts */

  import { AzureDevOpsEntityProvider } from '@backstage/plugin-catalog-backend-module-azure';

  const builder = await CatalogBuilder.create(env);
  /** ... other processors and/or providers ... */
  builder.addEntityProvider(
    AzureDevOpsEntityProvider.fromConfig(env.config, {
      logger: env.logger,
      schedule: env.scheduler.createScheduledTaskRunner({
        frequency: { minutes: 30 },
        timeout: { minutes: 3 },
      }),
    }),
  );
  ```

  Visit <https://backstage.io/docs/integrations/azure/discovery> for more details and options on configuration.

- Updated dependencies
  - @backstage/integration@1.2.1-next.2

## @backstage/plugin-codescene@0.1.1-next.2

### Patch Changes

- ee2cd642c5: Updated dependency `rc-progress` to `3.3.3`.
- Updated dependencies
  - @backstage/core-components@0.9.5-next.2

## @backstage/plugin-cost-insights@0.11.28-next.2

### Patch Changes

- 2fc98ac50c: Fix broken app-config in the example in the README
- Updated dependencies
  - @backstage/core-components@0.9.5-next.2

## @backstage/plugin-sonarqube@0.3.6-next.2

### Patch Changes

- ee2cd642c5: Updated dependency `rc-progress` to `3.3.3`.
- Updated dependencies
  - @backstage/core-components@0.9.5-next.2

## example-app@0.2.72-next.2

### Patch Changes

- Updated dependencies
  - @backstage/plugin-scaffolder@1.3.0-next.2
  - @backstage/plugin-pagerduty@0.4.0-next.2
  - @backstage/plugin-cost-insights@0.11.28-next.2
  - @backstage/cli@0.17.2-next.2
  - @backstage/core-components@0.9.5-next.2
